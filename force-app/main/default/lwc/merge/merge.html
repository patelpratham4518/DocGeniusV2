<template>
    <div class="templateBuilder_Maindiv" lwc:ref="mainDiv" data-name="mainDiv" style={loadStyle}>
      <div class="contentSection">
        <div class="editorSection">
          <div class="tabSection">
            <div class="tabSection_sub">
              <div class="homeBtn" onclick={closeEditTemplate}>
                <svg viewBox="0 0 24 24">
                  <g stroke-width="0"></g>
                  <g stroke-linecap="round" stroke-linejoin="round"></g>
                  <g>
                    <path
                      d="M21.71,11.29l-9-9a1,1,0,0,0-1.42,0l-9,9a1,1,0,0,0,1.42,1.42l.29-.3V20.3A1.77,1.77,0,0,0,5.83,22H8.5a1,1,0,0,0,1-1V16.1a1,1,0,0,1,1-1h3a1,1,0,0,1,1,1V21a1,1,0,0,0,1,1h2.67A1.77,1.77,0,0,0,20,20.3V12.41l.29.3a1,1,0,0,0,1.42,0A1,1,0,0,0,21.71,11.29Z">
                    </path>
                  </g>
                </svg>
              </div>
              <div class="tab" data-name="contentTab" onclick={activeTab}>
                <svg viewBox="0 0 24 24">
                  <path
                    d="M1 2V5H3V4H5V9H3.5V11H8.5V9H7V4H9V5H11V2H1ZM21 3H14V5H20V19H4V14H2V20C2 20.5523 2.44772 21 3 21H21C21.5523 21 22 20.5523 22 20V4C22 3.44772 21.5523 3 21 3Z">
                  </path>
                </svg>
                <div>Template Content</div>
              </div>
              <div class="tab" data-name="headerFooterTab" onclick={activeTab}>
                <svg viewBox="0 0 24 24">
                  <path
                    d="M17 21V17H7V21H5V16C5 15.4477 5.44772 15 6 15H18C18.5523 15 19 15.4477 19 16V21H17ZM7 3V7H17V3H19V8C19 8.55228 18.5523 9 18 9H6C5.44772 9 5 8.55228 5 8V3H7ZM2 9L6 12L2 15V9ZM22 9V15L18 12L22 9Z">
                  </path>
                </svg>
                <div>Header / Footer</div>
              </div>
              <div class="tab" data-name="waterMarkTab" onclick={activeTab}>
                <svg viewBox="0 0 24 24">
                  <path
                    d="M15 8V4H5V20H19V8H15ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918ZM11 9.5C11 10.3284 10.3284 11 9.5 11C8.67157 11 8 10.3284 8 9.5C8 8.67157 8.67157 8 9.5 8C10.3284 8 11 8.67157 11 9.5ZM17.5 17L13.5 10L8 17H17.5Z">
                  </path>
                </svg>
                <div>Watermark</div>
              </div>
              <div class="tab" data-name="basicTab" onclick={activeTab}>
                <svg viewBox="0 0 24 24">
                  <path
                    d="M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM7 6H11V10H7V6ZM7 12H17V14H7V12ZM7 16H17V18H7V16ZM13 7H17V9H13V7Z">
                  </path>
                </svg>
                <div>Basic Deatils</div>
              </div>
              <div class="templateName">
                <div class="recordSVG" onclick={activeTab} data-name="basicTab">
                  <svg viewBox="0 0 1024 1024">
                    <g stroke-width="0"></g>
                    <g stroke-linecap="round" stroke-linejoin="round"></g>
                    <g>
                      <path
                        d="M714 762.2h-98.2c-16.6 0-30 13.4-30 30s13.4 30 30 30H714c16.6 0 30-13.4 30-30s-13.4-30-30-30zM487.4 762.2H147.1c-16.6 0-30 13.4-30 30s13.4 30 30 30h340.3c16.6 0 30-13.4 30-30s-13.4-30-30-30z"
                        fill="#33CC99"></path>
                      <path d="M838.253 130.023l65.548 65.548-57.982 57.983-65.549-65.549z" fill="#6be6ff"></path>
                      <path
                        d="M743.7 955.9H195.8c-53.7 0-97.4-43.7-97.4-97.4V174.8c0-53.7 43.7-97.4 97.4-97.4H615c16.6 0 30 13.4 30 30s-13.4 30-30 30H195.8c-20.6 0-37.4 16.8-37.4 37.4v683.7c0 20.6 16.8 37.4 37.4 37.4h547.9c20.6 0 37.4-16.8 37.4-37.4v-395c0-16.6 13.4-30 30-30s30 13.4 30 30v395.1c0 53.6-43.7 97.3-97.4 97.3z"
                        fill="#000000"></path>
                      <path
                        d="M907.7 122.1l-39.2-39.2c-24-24-65.1-21.9-91.7 4.7L419.5 445 347 643.6l198.6-72.4L903 213.8c12.1-12.1 19.6-27.7 21.1-44 1.8-18.1-4.3-35.5-16.4-47.7zM512.6 519.3L447.5 543l23.7-65.1 264.7-264.7 40.9 41.7-264.2 264.4z m348-347.9l-41.3 41.3-40.9-41.7 40.9-40.9c3.1-3.1 6.2-3.9 7.6-3.9l37.6 37.6c-0.1 1.3-0.9 4.5-3.9 7.6z">
                      </path>
                    </g>
                  </svg>
                </div>
                <div class="templateNameText">
                  {templateRecord.Template_Name__c}
                </div>
              </div>
              <div class="activeTabBar"></div>
            </div>
          </div>
          <div class="summerNoteEditorSEC">
            <div class="tabArea" data-section="contentTab">
              <div data-name="templateContent"></div>
            </div>
            <div class="headerFooterSection tabArea deactiveTabs" data-section="headerFooterTab">
              <div data-name="headerEditor"></div>
              <div data-name="footerEditor"></div>
            </div>
            <c-key-mapping-container class="fieldMappingContainer desicionContainer" object-name={objectName}
              show-full-height-button="true" save-button-label="Save" preview-button-label="Save &#38; Preview"
              cancel-button-label="Save &#38; Close" onsave={saveTemplateData} onpreview={handleSaveNPreview}
              onclose={handleSaveNClose} onfullheight={toggleMappingContainerHeight}
              ontogglemapping={showHideMappingContainer}></c-key-mapping-container>
            <div class="waterMarkSection tabArea deactiveTabs" data-section="waterMarkTab">
              <div class="nonEditor_toobar_outer">
                <div class="nonEditor_toobar">
                  <lightning-slider label="Watermark Width" step="1" value="50"> </lightning-slider>
                  <lightning-slider label="Watermark Height" step="1" value="50"> </lightning-slider>
                  <lightning-slider label="Watermark Position - X" step="1" value="50"> </lightning-slider>
                  <lightning-slider label="Watermark Position - X" step="1" value="50"> </lightning-slider>
                  <lightning-slider label="Watermark Opactity" step="1" variant="label-hidden" value="50">
                  </lightning-slider>
                  <div class="logoSection">
                    <div class="docGeniusLogo"><img src={setdocGeniusLogoSvg}></img></div>
                  </div>
                </div>
              </div>
              <div class="waterMark_SubSection">
                <div class="dummpy_page_container">
                  <label for="watermarkInput">
                    <div class="dummpy_page"></div>
                  </label>
                  <input id="watermarkInput" type="file" style="display : none;" />
                </div>
                <div class="waterMarkOptsContainer desicionContainer">
                  <div class="WatermarkOptTitle">
                    Set Watermark Position
                  </div>
                  <div class="WatermarkOptions"></div>
                  <div class="buttonSection">
                    <lightning-button variant="destructive" label="Cancel" title="Cancel" onclick={handleSaveNClose}
                      icon-name="utility:close" icon-position="left"></lightning-button>
                    <lightning-button label="Preview" title="Preview" onclick={handleSaveNPreview}
                      icon-name="utility:preview" icon-position="left"></lightning-button>
                    <lightning-button variant="brand" label="Save" onclick={saveTemplateData} title="Save"
                      icon-name="utility:save" icon-position="left"></lightning-button>
                  </div>
                </div>
              </div>
            </div>
            <div class="basicxDetailCetion tabArea deactiveTabs" data-section="basicTab">
              <div class="nonEditor_toobar_outer">
                <div class="nonEditor_toobar">
                  <div class="logoSection">
                    <div class="docGeniusLogo"><img src={setdocGeniusLogoSvg}></img></div>
                  </div>
                </div>
              </div>
              <div class="desicionContainer updateDeatilContainer">
                <div class="basicDetails">
                  <div class="basicDetails_sub">
                    <div class="templateDetails">
  
                    </div>
                    <div class="pageConfigs">
                      <div class="pageConfigTitle">Page Configurations</div>
                      <div class="pageConfig_sub">
                          <div class="pageConfigOptions">
                              <div class="pageConfigSections">
                                  <div class="pageOptiontitle">Page Margin</div>
                                  <div class="pageMarginConfig">
                                    <div class="optionSVG">
                                      <svg viewBox="0,0,2048,2048"><path type="path" class="OfficeIconColors_HighContrast"  d="M 256 128 h 1472 v 1792 h -1472 m 1088 -1728 h -704 v 256 h 704 m -704 64 v 1024 h 704 v -1024 m -1024 -320 v 256 h 256 v -256 m -256 320 v 1024 h 256 v -1024 m -256 1344 h 256 v -256 h -256 m 320 256 h 704 v -256 h -704 m 1024 256 v -256 h -256 v 256 m 256 -320 v -1024 h -256 v 1024 m 256 -1088 v -256 h -256 v 256 z"></path><path type="path" class="OfficeIconColors_m20" d="M 1693 1888 h -1405 v -1728 h 1405 z"></path><path type="path" class="OfficeIconColors_m22"  d="M 256 128 h 1472 v 1792 h -1472 m 1408 -64 v -1664 h -1344 v 1664 z"></path><path type="path" class="OfficeIconColors_m24"  d="M 1408 512 v 1024 h 256 v 64 h -256 v 256 h -64 v -256 h -704 v 256 h -64 v -256 h -256 v -64 h 256 v -1024 h -256 v -64 h 256 v -256 h 64 v 256 h 704 v -256 h 64 v 256 h 256 v 64 m -320 0 h -704 v 1024 h 704 z"></path></svg>
                                      <select class="marginUnitOption" value={pageMarginUnit} onchange={handlePageMarginUnit}>
                                        <option value="px">px</option>
                                        <option value="cm">cm</option>
                                        <option value="inch">inch</option>
                                      </select>
                                    </div>
                                    <div class="optionInputs">
                                      <div class="marginInputontainer">Top : <input class="pageMarginInput" type="text" onkeyup={changePageMargin}
                                          data-name="top" /></div>
                                      <div class="marginInputontainer">Left : <input class="pageMarginInput" type="text" onkeyup={changePageMargin}
                                          data-name="left" /></div>
                                      <div class="marginInputontainer">Bottom : <input class="pageMarginInput" type="text" onkeyup={changePageMargin}
                                          data-name="bottom" /></div>
                                      <div class="marginInputontainer">Right : <input class="pageMarginInput" type="text" onkeyup={changePageMargin}
                                          data-name="right" /></div>
                                    </div>
                                  </div>
                              </div>
                              <div class="pageConfigSections">
                                    <div class="pageOptiontitle">Page Size</div>
                                  <div class="pageSizeConfig">
                                    <div class="optionSVG"><svg viewBox="0,0,2048,2048">  <path type="path" class="OfficeIconColors_HighContrast"    d="M 1536 896 v 1024 h -1088 v -1472 h 640 m 0 448 h 352 l -352 -348 m 384 412 h -448 v -448 h -512 v 1344 h 960 m 64 -1728 v 192 h -64 v -64 h -960 v 64 h -64 v -192 h 64 v 64 h 960 v -64 m -1344 320 h 192 v 64 h -64 v 1344 h 64 v 64 h -192 v -64 h 64 v -1344 h -64 z">  </path>  <path type="path" class="OfficeIconColors_m20"    d="M 1066 480 l 438 421 v 992 h -1029 v -1413 z"></path>  <path type="path" class="OfficeIconColors_m22"    d="M 1536 896 v 1024 h -1088 v -1472 h 640 m 0 448 h 352 l -352 -348 m 384 412 h -448 v -448 h -512 v 1344 h 960 z">  </path>  <path type="path" class="OfficeIconColors_m24"    d="M 1536 128 v 192 h -64 v -64 h -960 v 64 h -64 v -192 h 64 v 64 h 960 v -64 m -1344 320 h 192 v 64 h -64 v 1344 h 64 v 64 h -192 v -64 h 64 v -1344 h -64 z">  </path></svg></div>
                                    <div class="optionInputs pageSizeInout">
                                      <div class="sizeInputContainer">
                                        <input type="radio" id="A4" style="display : none;" checked="checked" name="pageSize" value="A4" data-size="A4"  />
                                        <label for="A4">
                                            <div class="sizeInputLable">A4<span class="subLabel"> (8.27" x 11.69")</span></div>
                                        </label>
                                    </div>
                                    <div class="sizeInputContainer">
                                        <input type="radio" id="A5" style="display : none;" checked="checked" name="pageSize" value="A4" data-size="A4"  />
                                        <label for="A5">
                                            <div class="sizeInputLable">A5<span class="subLabel"> (8.27" x 11.69")</span></div>
                                        </label>
                                    </div>                                
                                    <div class="sizeInputContainer">
                                        <input type="radio" id="A3" style="display : none;" checked="checked" name="pageSize" value="A4" data-size="A4"  />
                                        <label for="A3">
                                            <div class="sizeInputLable">A3<span class="subLabel"> (8.27" x 11.69")</span></div>
                                        </label>
                                    </div>
                                    <div class="sizeInputContainer">
                                        <input type="radio" id="Letter" style="display : none;" checked="checked" name="pageSize" value="A4" data-size="A4"  />
                                        <label for="Letter">
                                            <div class="sizeInputLable">Letter<span class="subLabel"> (8.27" x 11.69")</span></div>
                                        </label>
                                    </div>                                
                                    <div class="sizeInputContainer">
                                        <input type="radio" id="Legal" style="display : none;" checked="checked" name="pageSize" value="A4" data-size="A4"  />
                                        <label for="Legal">
                                            <div class="sizeInputLable">Legal<span class="subLabel"> (8.27" x 11.69")</span></div>
                                        </label>
                                    </div>
                                    </div>
                                  </div>
                              </div>
                              <div class="pageConfigSections">
                              <div class="pageOptiontitle oriTitle">Page Orientation</div>
                              <div class="pageOrientationConfig">
                                <div class="optionSVG"><svg viewBox="0,0,2048,2048"><path type="path" class="OfficeIconColors_HighContrast"  d="M 512 1920 v -1024 h 1024 l 384 384 v 640 m -384 -933 v 293 h 293 m -357 64 v -384 h -896 v 896 h 1280 v -512 m -1408 192 h -320 v -1408 h 639 l 385 384 v 320 h -64 v -256 h -384 v -384 h -512 v 1280 h 256 m 320 -960 h 293 l -293 -293 z"></path><path type="path" class="OfficeIconColors_m20"  d="M 448 1504 h -288 v -1344 h 597 l 363 363 v 309 h -672 m 1440 450 v 606 h -1344 v -960 h 986 z"></path><path type="path" class="OfficeIconColors_m22"  d="M 512 1920 v -1024 h 1024 l 384 384 v 640 m -384 -933 v 293 h 293 m -357 64 v -384 h -896 v 896 h 1280 v -512 m -1408 192 h -320 v -1408 h 639 l 385 384 v 320 h -64 v -256 h -384 v -384 h -512 v 1280 h 256 m 320 -960 h 293 l -293 -293 z"></path></svg></div>
                                <div class="optionInputs pageOriInputs">
                                  <div class="oriInputContainer">
                                      <input type="radio" id="Portrait" checked="checked" style="display : none;" name="pageOriantation" value="portrait" data-oriantation="portrait"  />
                                      <label for="Portrait">
                                        <div class="sizeInputLable">Portrait</div>
                                        </label>
                                  </div>
                                  <div class="oriInputContainer">
                                      <input type="radio" id="Landscape" checked="checked" style="display : none;" name="pageOriantation" value="portrait" data-oriantation="portrait"  />
                                      <label for="Landscape">
                                        <div class="sizeInputLable">Landscape</div>
                                        </label>
                                  </div>
                                </div>
                              </div>
                              </div>
                          </div>
                          <!-- <div class="dummyPageContainer">
                              <div class="dummyPage"></div>
                          </div> -->
                      </div>
                    </div>
                  </div>
                </div>
                <div class="buttonSection">
                  <lightning-button variant="destructive" label="Cancel" title="Cancel" onclick={handleSaveNClose}
                    icon-name="utility:close" icon-position="left"></lightning-button>
                  <lightning-button label="Preview" title="Preview" onclick={handleSaveNPreview}
                    icon-name="utility:preview" icon-position="left"></lightning-button>
                  <lightning-button variant="brand" label="Save" onclick={saveTemplateData} title="Save"
                    icon-name="utility:save" icon-position="left"></lightning-button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <template lwc:if={isPreview}>
      <c-template-preview-modal templateid={templateRecord.Id} objectname={templateRecord.Object_API_Name__c}
        objectlabel={object_Label} onclosepreview={closeTemplatePreview}></c-template-preview-modal>
    </template>
  
    <c-message-popup onconfirmation={handleConfimation}></c-message-popup>
  
    <div class="setupDropDown">
      <div class="setupTitle">Page Configurations</div>
      <div class="pageSetupOptions">
        <div class="pageMarginConfig">
          customeIcon.pageMargin
          <div class="marginInputs">
            <div class="topMargin">
              <div class="marginType">Top: </div>
              <input type="number" class="marginInput" placeholder="Top Margin">
            </div>
            <div class="topMargin">
              <div class="marginType">Bottom: </div>
              <input type="number" class="marginInput" placeholder="Bottom Margin">
            </div>
            <div class="topMargin">
              <div class="marginType">Left: </div>
              <input type="number" class="marginInput" placeholder="Left Margin">
            </div>
            <div class="topMargin">
              <div class="marginType">Right: </div>
              <input type="number" class="marginInput" placeholder="Right Margin">
            </div>
          </div>
        </div>
        <!-- <div class="pageOriantionConfig"></div>
        <div class="pageSizeConfig"></div>
        <div class="pageColumnnConfig"></div> -->
      </div>
    </div>
  
    <!-- <template lwc:if={isSpinner}>
      <c-spinner></c-spinner>
    </template> -->
  
    <c-document-loader display={isSpinner} label={loaderLabel}></c-document-loader>
  
    <c-chat-bot onclick={openChatBot} ontoggleclose={updateChatStatus}></c-chat-bot>
    
    <c-utility-properties></c-utility-properties>
  
  </template>